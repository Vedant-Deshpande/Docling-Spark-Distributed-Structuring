# k8s/base/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: spark-config
  namespace: docling-spark
data:
  # Spark configuration
  spark.kubernetes.namespace: "docling-spark"
  spark.kubernetes.authenticate.driver.serviceAccountName: "spark-driver"
  spark.executor.instances: "5"
  spark.executor.memory: "4g"
  spark.executor.cores: "2"
  spark.driver.memory: "4g"
  spark.driver.cores: "2"
  
  # Update this with your actual Quay image
  spark.kubernetes.container.image: "quay.io/rishasin/docling-spark:latest"
  spark.kubernetes.container.image.pullPolicy: "Always"
  
  # Dynamic allocation
  spark.dynamicAllocation.enabled: "true"
  spark.dynamicAllocation.minExecutors: "2"
  spark.dynamicAllocation.maxExecutors: "10"
  spark.dynamicAllocation.shuffleTracking.enabled: "true"